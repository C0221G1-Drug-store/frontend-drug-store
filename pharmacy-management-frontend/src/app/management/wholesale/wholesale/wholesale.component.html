<div>
  <form [formGroup]="billSaleForm" (ngSubmit)="submit()">
    <div class="container my-3">
      <div class="container" style="background: #567FEA;height: 50px"><h2
        style="text-align: center;line-height: 50px">Bán hàng</h2></div>
      <fieldset class="scheduler-border">
        <legend class="scheduler-border">Bán sỉ</legend>
        <div class="container p-3">
          <div class="row">
            <div class="col-lg-4 my-2">
              <div class="row ">
                <label for="inputBillId" class="label-text">Số phiếu</label>
                <input formControlName="billSaleId" type="text" id="inputBillId">
              </div>
              <div class="row mt-3 ">
                <label for="inputEmployee" class="label-text">Nhân viên</label>
                <select formControlName="employee" id="inputEmployee" type="text">
                  <option *ngFor="let employee of employeeList" [ngValue]="employee">{{employee.employeeName}}</option>
                </select>
              </div>
            </div>
            <div class="col-lg-4 my-2">
              <div class="row ">
                <label for="inputDate" class="label-text">Ngày lập</label>
                <input formControlName="invoiceDate" type="date" id="inputDate">
              </div>
              <div class="row mt-3 ">
                <label for="selectEmployee" class="label-text">Khách hàng<i class="text-danger">*</i></label>
                <select formControlName="customer" id="selectEmployee" type="text">
                  <option *ngFor="let customer of customerList" [ngValue]="customer">{{customer.name}}</option>
                </select>
                &nbsp;&nbsp;
                <a href="#"><i class="fa fa-plus mt-2" aria-hidden="true"></i></a>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="row my-2">
                <label for="inputNote" class="label-text">Ghi chú</label>
                <textarea formControlName="billSaleNote" type="text" class="height85px a" id="inputNote"
                          placeholder="Note..."></textarea>
              </div>
            </div>
          </div>
        </div>
      </fieldset>
    </div>
    <div class="container pb-3">
      <fieldset class="scheduler-border">
        <legend class="scheduler-border">Danh sánh thuốc</legend>
        <div class="outer scroll">
          <table class="table table-bordered table-striped">
            <thead class="thead">
            <tr class="ve">
              <th class="text-center">Tên thuốc</th>
              <th class="text-center">Đơn vị tính</th>
              <th class="text-center">Số lượng</th>
              <th class="text-center">Đơn giá</th>
              <th class="text-center">Thành tiền</th>
            </tr>
            </thead>
            <tbody>
            <td>
              <select [(ngModel)]="drug" [ngModelOptions]="{standalone: true}">
                <option [selected]="true" [hidden]="true">Thêm thuốc</option>
                <option *ngFor="let drug of drugs" [ngValue]="drug">{{drug.drugName}}</option>
              </select>
            </td>
            <td class="text-center"></td>
            <td class="text-center"><input [(ngModel)]="quantity1" [ngModelOptions]="{standalone: true}" type="text" placeholder="số lượng" [value]="quantity1"
                                           style="width: 100px"></td>
            <td class="text-center"></td>
            <td class="text-center">
              <button type="button" (click)="addDrug(drug, quantity1 )">Thêm</button>
            </td>
            </tbody>
            <tbody *ngFor="let drugOfBill of drugOfBillList , let i = index">
            <tr id="{{i}}" (click)="send(drugOfBill) ">
              <td>{{drugOfBill.drug.drugName}}</td>
              <td>{{drugOfBill.drug.unit}}</td>
              <td>{{drugOfBill.quantity}}</td>
              <td>{{drugOfBill.drug.wholesaleProfitRate}}</td>
              <td>{{drugOfBill.drug.wholesaleProfitRate * drugOfBill.quantity}} VND</td>
            </tr>
            </tbody>
          </table>
        </div>
        <div class="d-flex justify-content-end">
          <nav aria-label="Page navigation example">
            <ul class="pagination">
              <li class="page-item"><a class="page-link" href="#">Previous</a></li>
              <li class="page-item"><a class="page-link" href="#">1</a></li>
              <li class="page-item"><a class="page-link" href="#">2</a></li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item"><a class="page-link" href="#">Next</a></li>
            </ul>
          </nav>
        </div>
        <div class="d-flex justify-content-end mt-3 ">
          <label for="inputTotal" class="mr-3">Tổng tiền </label>
          <input formControlName="totalMoney" type="text" id="inputTotal" readonly value="{{total}}">
        </div>
      </fieldset>

      <div class="mt-3">
        <div class="row">
          <div class="col-12 text-right">
            <button type="submit" class="btn btn-pay mx-2"><i class="fa fa-plus-circle" aria-hidden="true"></i>
              Thanh toán
            </button>
            <button (click)="openDeleteDialog()" class=" btn btn-danger mx-2" data-toggle="modal"
                    data-target="#exampleModal1" type="button"><i
              class="fa fa-trash-o" aria-hidden="true"></i> Xóa thuốc
            </button>
            <button class="btn-print mx-2 btn btn-warning" type="button">
              <i class="fa fa-print" aria-hidden="true"></i>
              In phiếu
            </button>
            <button class="btn ve mx-2" type="button" routerLink="/"><i class="icon-sidebar fa fa-reply "></i>
              Trở về
            </button>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
